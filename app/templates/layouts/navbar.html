<div class="flex navbar">
  <div class="flex flex-between container">
    <a href="/"
      ><img
        src="{{ url_for('static', filename = 'img/mmu-logo.png') }}"
        alt="MMU Logo"
        class="logo"
    /></a>

    <div class="flex flex-center text-body-lg mid-col">
      <nav>
        <ul class="flex flex-center">
          <li>
            <a
              class="link
          {{ 'active' if request.path == url_for('main.index') }}
          "
              href="{{ url_for('main.index') }}"
              >Home</a
            >
          </li>
          <li>
            <a
              class="link
            {{ 'active'  if request.path == url_for('notification.notifications') }}
            "
              href="{{ url_for('notification.notifications') }}"
              >Notifications</a
            >
          </li>
        </ul>
      </nav>

      {# search bar #}
      <form action="/search" method="GET" class=" search-bar">
        <input
          type="search"
          name="search"
          id="search"
          placeholder="Search"
          class="search-bar-input"
        />
        <button type="submit" class="flex flex-center">
          <img
            src="{{ url_for('static', filename = 'svg/search.svg') }}"
            alt="search-icon"
            class="icon"
          />
        </button>
      </form>
    </div>

    {# user profile pop up modal using dialog html tag #}
    <div class="flex flex-center open-button">
      {% with avatar_url=user.avatar_url, owner = user %}
        {% include "layouts/avatar.html" %}
      {% endwith %}
    </div>
  </div>

  <dialog class="modal" id="userProfileModal">
    <div class="flex flex-col">
      <div class="flex flex-col user-profile-container">
        <a href="{{ url_for('me.posts') }}">
          {% with avatar_url=user.avatar_url, owner = user %}
            {% include "layouts/avatar.html" %}
          {% endwith %}
          <div class="flex flex-between user-profile-info">
            <div class="text-label-lg">
              Anonymous_{{ user.anon_no if user.anon_no else 'None' }}
            </div>
            <img
              src="{{ url_for('static', filename='svg/chevron-right.svg') }}"
              alt="chevron-right"
            />
          </div>
        </a>
      </div>
      <ul class="flex flex-col text-body-md navigation-container">
        <li class="flex">
          <img
            src="{{ url_for('static', filename = 'svg/notification.svg') }}"
            alt="notification"
          />
          <a href="{{ url_for('notification.notifications') }}"
            >Notifications</a
          >
          <div class="text-body-sm notification-count"></div>
        </li>
        <li class="flex">
          <img
            src="{{ url_for('static', filename = 'svg/bookmark-small.svg') }}"
            alt="bookmark-small"
          />
          <a href="{{ url_for('me.bookmarks') }}">Bookmarks</a>
        </li>
        {% if user.is_admin %}
          <li class="flex">
            <img
              src="{{ url_for('static', filename = 'svg/admin.svg') }}"
              alt="admin"
            />
            <a href="{{ url_for('admin.index') }}">Admin</a>
          </li>
        {% endif %}
        <li class="flex">
          <img
            src="{{ url_for('static', filename = 'svg/guideline.svg') }}"
            alt="guideline"
          />
          <a href="{{ url_for('main.community_guidelines') }}"
            >Community Guidelines</a
          >
        </li>
      </ul>
      <div class="text-body-md log-out">
        <a href="{{ url_for('user.logout') }}">Log out</a>
      </div>
      <div class="py-2 px-4 modal-footer">
        <a href="{{ url_for('faq.get_faq') }}" class="link">FAQ</a><span>Â·</span
        ><a href="{{ url_for('about.get_about') }}" class="link">About</a>
      </div>
    </div>
  </dialog>
</div>
<div
  class="d-none current-user-id"
  id="{{ user.id }}"
  data-user-id="{{ user.id }}"
></div>
